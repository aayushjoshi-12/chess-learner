integrate the gui and cli versions
add castling en passant